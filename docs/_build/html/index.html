

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>WinFault documentation &mdash; WinFault 1.0 documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="WinFault 1.0 documentation" href="#"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        
          <a href="#" class="fa fa-home"> WinFault</a>
        
        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">WinFault documentation</a><ul>
<li><a class="reference internal" href="#usage-example">Usage Example</a></li>
<li><a class="reference internal" href="#note-on-the-scada-status-and-warning-data">Note on the SCADA, status and warning data</a><ul>
<li><a class="reference internal" href="#scada-data">SCADA Data</a></li>
<li><a class="reference internal" href="#status-data">Status Data</a></li>
<li><a class="reference internal" href="#warning-data">Warning Data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-winfault">API Reference</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</div>
          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="#">WinFault</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="#">Docs</a> &raquo;</li>
      
    <li>WinFault documentation</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="_sources/index.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="winfault-documentation">
<h1>WinFault documentation<a class="headerlink" href="#winfault-documentation" title="Permalink to this headline">¶</a></h1>
<p>This module includes the <cite>WT_data</cite> class, which enables you to import wind
turbine SCADA data. From there, the fault-free SCADA data can be extracted, as
well as various types of faults, according to separate status and warning data.
This is then labelled as such and split into training and testing data for fault
classification and prediction.</p>
<div class="section" id="usage-example">
<h2>Usage Example<a class="headerlink" href="#usage-example" title="Permalink to this headline">¶</a></h2>
<p>Import using <code class="docutils literal"><span class="pre">import</span> <span class="pre">winfault</span></code>.</p>
<p>Create the class, and access correctly formatted SCADA data:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">Turbine</span> <span class="o">=</span> <span class="n">winfault</span><span class="o">.</span><span class="n">WT_data</span><span class="p">()</span>
<span class="n">scada_data</span> <span class="o">=</span> <span class="n">Turbine</span><span class="o">.</span><span class="n">scada_data</span>
<span class="n">fault_free_data</span> <span class="o">=</span> <span class="n">Turbine</span><span class="o">.</span><span class="n">fault_free_scada_data</span>
</pre></div>
</div>
<p>Access columns by typing <code class="docutils literal"><span class="pre">data['column</span> <span class="pre">name']</span></code>. The following gets the first 100 windspeeds of the fault_free_data:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">fault_free_data</span><span class="p">[</span><span class="s1">&#39;WEC_ava_windspeed&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">:</span><span class="mi">99</span><span class="p">]</span>
</pre></div>
</div>
<p>Get all the fault data using default values (type help(Turbine.filter) or help(Turbine.get_all_fault_data) for details):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="n">all_faults_scada_data</span><span class="p">,</span> <span class="n">feeding_fault_scada_data</span><span class="p">,</span> \
<span class="n">mains_failure_fault_scada_data</span><span class="p">,</span> <span class="n">aircooling_fault_scada_data</span><span class="p">,</span> \
<span class="n">excitation_fault_scada_data</span><span class="p">,</span> <span class="n">generator_heating_fault_scada_data</span> <span class="o">=</span> \
<span class="n">Turbine</span><span class="o">.</span><span class="n">get_all_fault_data</span><span class="p">()</span>
</pre></div>
</div>
<p>Generate training and testing data for fault-free, feeding fault and mains failure faults, using specific features:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span>    <span class="n">features</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Time&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WEC_ava_windspeed&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WEC_ava_Rotation&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WEC_ava_Power&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WEC_ava_reactive_Power&#39;</span><span class="p">,</span>
        <span class="s1">&#39;WEC_ava_blade_angle_A&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Inverter_averages&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Inverter_std_dev&#39;</span><span class="p">]</span>

    <span class="n">fault_data_sets</span> <span class="o">=</span> <span class="p">[</span><span class="n">feeding_fault_scada_data</span><span class="p">,</span> <span class="n">mains_failure_fault_scada_data</span><span class="p">]</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">X_test</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">y_test</span><span class="p">,</span> <span class="n">X_train_bal</span><span class="p">,</span> <span class="n">y_train_bal</span> <span class="o">=</span> \
<span class="n">Turbine</span><span class="o">.</span><span class="n">get_test_train_data</span><span class="p">(</span><span class="n">features</span><span class="p">,</span> <span class="n">fault_data_sets</span><span class="p">,</span> <span class="n">fault_free_data</span><span class="p">,</span>
                            <span class="kc">True</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="note-on-the-scada-status-and-warning-data">
<h2>Note on the SCADA, status and warning data<a class="headerlink" href="#note-on-the-scada-status-and-warning-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="scada-data">
<h3>SCADA Data<a class="headerlink" href="#scada-data" title="Permalink to this headline">¶</a></h3>
<p>The CSV file for this data is located at &#8220;Source Data\SCADA_data.csv&#8221;. It
contains time-stamped operational data for the turbine. The timestamps are at 10
minute intervals which represent the average of the sensor readings over that
period.</p>
</div>
<div class="section" id="status-data">
<h3>Status Data<a class="headerlink" href="#status-data" title="Permalink to this headline">¶</a></h3>
<p>There are a number of normal operating states for the turbine. For example, when
the turbine is producing power normally, when the wind speed is below cut-in, or when the turbine is in “storm” mode, i.e., when the wind speeds are too high for normal generation.</p>
<p>There are also a large number of statuses for when the turbine is in abnormal or
faulty operation. These are all tracked by status messages, contained within the “Status”
data. This is split into two different sets:</p>
<ul class="simple">
<li>WEC status data (&#8220;Source Data\status_data_wec.csv&#8221;)</li>
<li>RTU status data (&#8220;Source Data\status_data_rtu.csv&#8221;)</li>
</ul>
<p>The WEC (Wind Energy Converter) status data corresponds to status messages directly
related to the turbine itself, whereas RTU data corresponds to power control data
at the point of connection to the grid, i.e., active and reactive power set points.</p>
<p>Each time the WEC or RTU status changes, a new timestamped status message is generated.
Thus, the turbine or RTU is assumed to be operating in that state until the next status
message is generated. Each turbine/RTU status has a “main status” and “sub-status” code
associated with it.</p>
<p>Any main WEC status code above zero indicates abnormal or faulty behaviour, however
many of these are not associated with a fault, e.g., status code 2 - “lack of wind”.</p>
<p>The RTU status data almost exclusively deals with active or reactive power set-points. For example, status 100 : 82 corresponds to limiting the active power output to 82% of
its actual current output.</p>
</div>
<div class="section" id="warning-data">
<h3>Warning Data<a class="headerlink" href="#warning-data" title="Permalink to this headline">¶</a></h3>
<p>The “Warning” data on the turbine mostly corresponds to general information about
the turbine, and usually isn’t directly related to turbine operation or safety.
These “warning” messages, also called “information messages” in some of the turbine documentation, are timestamped in the same way as the status messages, and also
have a &#8220;main warning&#8221; and &#8220;sub-warning&#8221; code associated with them.</p>
<p>Sometimes, warning messages correspond to a potentially developing fault on the
turbine; if the warning persists for a set amount of time and is not cleared by
the turbine operator or control system, a fault is raised and a new status message
is generated.</p>
<p>The warning data is also split into WEC and RTU warning data:</p>
<ul class="simple">
<li>WEC warning data (&#8220;Source Data\warning_data_wec.csv&#8221;)</li>
<li>RTU warning data (&#8220;Source Data\warning_data_rtu.csv&#8221;)</li>
</ul>
</div>
</div>
<div class="section" id="module-winfault">
<span id="api-reference"></span><h2>API Reference<a class="headerlink" href="#module-winfault" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="winfault.WT_data">
<em class="property">class </em><code class="descclassname">winfault.</code><code class="descname">WT_data</code><span class="sig-paren">(</span><em>scada_data_file='Source Data/SCADA_data.csv'</em>, <em>status_data_wec_file='Source Data/status_data_wec.csv'</em>, <em>status_data_rtu_file='Source Data/status_data_rtu.csv'</em>, <em>warning_data_wec_file='Source Data/warning_data_wec.csv'</em>, <em>warning_data_rtu_file='Source Data/warning_data_rtu.csv'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/winfault.html#WT_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#winfault.WT_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Import and manipulate wind turbine data.</p>
<dl class="method">
<dt id="winfault.WT_data.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>scada_data_file='Source Data/SCADA_data.csv'</em>, <em>status_data_wec_file='Source Data/status_data_wec.csv'</em>, <em>status_data_rtu_file='Source Data/status_data_rtu.csv'</em>, <em>warning_data_wec_file='Source Data/warning_data_wec.csv'</em>, <em>warning_data_rtu_file='Source Data/warning_data_rtu.csv'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/winfault.html#WT_data.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#winfault.WT_data.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialises the class instance.</p>
<p>Imports the data and returns arrays of SCADA &amp; status data by
calling <cite>import_data()</cite>.</p>
<p>Returns an array of fault-free SCADA data by calling
<cite>fault_free_scada_data()</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>scada_data_file</strong> (<em>str, optional</em>) &#8211; The raw SCADA data csv file.</li>
<li><strong>status_data_wec_file</strong> (<em>str, optional</em>) &#8211; The status/fault csv file for the WEC</li>
<li><strong>status_data_rtu_file</strong> (<em>str, optional</em>) &#8211; The status/fault csv file for the RTU</li>
<li><strong>warning_data_wec_file</strong> (<em>str, optional</em>) &#8211; The warning/information csv file for the WEC</li>
<li><strong>warning_data_rtu_file</strong> (<em>str, optional</em>) &#8211; The warning/information csv file for the RTU</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>scada_data</strong> (<em>ndarray</em>) &#8211; The imported and correctly formatted SCADA data</li>
<li><strong>status_data_wec</strong> (<em>ndarray</em>) &#8211; The imported and correctly formatted WEC status data</li>
<li><strong>status_data_rtu</strong> (<em>ndarray</em>) &#8211; The imported and correctly formatted RTU status data</li>
<li><strong>warning_data_wec</strong> (<em>ndarray</em>) &#8211; The imported and correctly formatted WEC warning data</li>
<li><strong>warning_data_rtu</strong> (<em>ndarray</em>) &#8211; The imported and correctly formatted RTU warning data</li>
<li><strong>fault_free_scada_data</strong> (<em>ndarray</em>) &#8211; The fault free scada data. Filtered according to the
following rules:<ul>
<li>selects only data according to certain &#8220;good&#8221; wec statuses
(shown below). Note it selects only data 1800s after a
change to a &#8220;good&#8221; wec status, and 7200s before a change
to any other wec status</li>
<li>selects only data according to a single &#8220;good&#8221; rtu status.
Note it selects only data 600s after a change to the
&#8220;good&#8221; rtu status, and 600s before a change to any other
rtu status</li>
<li>Finally, it filters out the 10h warning data. This is an
rtu_warning with a &#8216;Main_Warning&#8217; of 230. It&#8217;s an
ambiguous warning which I estimate to mean that there may
or may not be curtailment (for a variety of reasons) in
the 10 hours following when this status comes into play.</li>
</ul>
</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>Both status_data_wec.csv &amp; status_data_rtu.csv originally come from
pes_extrainfo.csv, filtered according to their plant number.</p>
<p>SCADA_data.csv contains the wsd, 03d and 04d data files all
combined together.</p>
</dd></dl>

<dl class="method">
<dt id="winfault.WT_data.filter">
<code class="descname">filter</code><span class="sig-paren">(</span><em>scada_data</em>, <em>sw_data</em>, <em>sw_column_name</em>, <em>filter_type='fault_free'</em>, <em>return_inverse=False</em>, <em>time_delta_1=3600</em>, <em>time_delta_2=7200</em>, <em>*sw_codes</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/winfault.html#WT_data.filter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#winfault.WT_data.filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns SCADA data which correspond to certain times around
when certain statuses or warnings came into effect on the
turbine.</p>
<p>This function takes the scada data obtained in import_data,
or a subset of that data, and filters it corresponding to
certain status or warning codes in the status or warning data.</p>
<p>Depending on <cite>filter_type</cite>, indices returned may refer to times of
fault-free or faulty operation, or times leading up to faulty
operation. See the <cite>filter_type</cite> parameter description for
details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>scada_data</strong> (<em>ndarray</em>) &#8211; SCADA data to be filtered. Must be the scada data obtained
from <cite>import_data()</cite>, or a subset of that data.</li>
<li><strong>sw_data</strong> (<em>ndarray</em>) &#8211; Status/Warning data to be used for reference timestamps.
One of: <cite>warning_data_rtu</cite>, <cite>warning_data_wec</cite>, <cite>status_data_rtu</cite>,
<cite>status_data_wec</cite>.</li>
<li><strong>sw_column_name</strong> (<em>string</em>) &#8211; Refers to the column being filtered. Must be one of
&#8216;Main_Status&#8217;, &#8216;Main_warning&#8217;, &#8216;Full_Status&#8217; or
&#8216;Full_Warning&#8217;</li>
<li><strong>filter_type</strong> (<em>string, optional (default='fault_free')</em>) &#8211; <p>Must be one of &#8216;fault_free&#8217;, &#8216;fault_case_1&#8217;, &#8216;fault_case_2&#8217;
or &#8216;fault_case_3&#8217;</p>
<ul>
<li>If &#8216;fault_free&#8217;, the function will return indices of
<cite>scada_data</cite> which fall between <cite>time_delta_1</cite> after the
start of each passed <cite>sw_code</cite> when it appears in the
<cite>sw_data</cite>, and <cite>time_delta_2</cite> before it ends.</li>
<li>If &#8216;fault_case_1&#8217;, the function gets a timestamp of
<cite>time_delta_1</cite> before the start of a certain status/warning
which corresponds to faulty operation, and <cite>time_delta_2</cite>
after the status/warning ends. It returns indices of
scada_data which fall between these time stamps.</li>
<li>If &#8216;fault_case_2&#8217;, the function gets timestamps for the
times between <cite>time_delta_1</cite> and <cite>time_delta_2</cite> before the
start of a certain status/warning which corresponds to the
start of faulty operation. It returns indices of
<cite>scada_data</cite> which fall between these time stamps.</li>
<li>If &#8216;fault_case_3&#8217; The function gets timestamps for the
times between <cite>time_delta_1</cite> and <cite>time_delta_2</cite> before a
certain fault starts. It returns indices of <cite>scada_data</cite>
which fall between these time stamps, but ONLY IF no other
instance of the same fault occured during this period.
Therefore, it contains only data which led up to the
fault. Used for fault prediction purposes.</li>
</ul>
</li>
<li><strong>return_inverse</strong> (<em>boolean, optional (default=False)</em>) &#8211; If True, the function will return the indices of filtered
SCADA data which DON&#8217;T correspond to what this function
would normally return. I.e. the function would select all
the indices of SCADA data as normal, and then instead return
all OTHER indices. E.g. the function could find indices of
when the turbine was in fault-free operation, and then
return all OTHER indices instead.</li>
<li><strong>time_delta_1</strong> (<em>integer, optional (default=3600)</em>) &#8211; <ul>
<li>If <cite>filter_type</cite> = &#8216;fault_free&#8217;, it&#8217;s the time AFTER normal
operation begins from which to include <cite>scada_data</cite> indices</li>
<li>If <cite>filter_type</cite> = &#8216;fault_case_1&#8217;, this is the amount of
time before the fault from which to include the returned
scada fault data.</li>
<li>If <cite>filter_type</cite> = &#8216;fault_case_2&#8217; or &#8216;fault_case_3&#8217;, this
refers to the time BEFORE faulty operation begins from
which to include scada_data indices. Must be greater than
or equal to <cite>time_delta_2</cite>.</li>
</ul>
</li>
<li><strong>time_delta_2</strong> (<em>integer, optional (default=7200)</em>) &#8211; <ul>
<li>If <cite>filter_type</cite> = &#8216;fault_free&#8217;, it&#8217;s the time BEFORE normal
operation ENDS from which to include <cite>scada_data</cite> indices</li>
<li>If <cite>filter_type</cite> = &#8216;fault_case_1&#8217;, AFTER faulty operation
ends from which to include <cite>scada_data</cite> indices</li>
<li>If <cite>filter_type</cite> = &#8216;fault_case_2&#8217; or &#8216;fault_case_3&#8217;, this
refers to the time AFTER faulty operation begins from
which to stop including <cite>scada_data</cite> indices. Must be less
than <cite>time_delta_1</cite></li>
</ul>
</li>
<li><strong>*sw_codes</strong> (<em>array of str or int</em>) &#8211; <p>The set of codes to be filtered. Can be a single value or an
array.</p>
<p>If <cite>sw_column_name</cite> is &#8216;Full_Status&#8217; or
&#8216;Full_Warning&#8217;, then it must be a set of strings referring
to the statuses/warnings (e.g. full status &#8216;0 : 0&#8217; for
nominal operation).</p>
<p>If <cite>sw_column_name</cite> is &#8216;Main_Status&#8217; or
&#8216;Main_Warning&#8217;, then it must be a set of integers referring
to the statuses/warnings (e.g. main status 62 for feeding
faults)</p>
</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>filtered_scada_data</strong> &#8211; If <cite>filter_type</cite> = &#8216;fault_free&#8217;, <cite>filtered_scada_data</cite>
should be data strictly corresponding to fault-free data.
If <cite>filter_type</cite> is &#8216;fault_case_1&#8217;, &#8216;fault_case_2&#8217; or
&#8216;fault_case_3&#8217;, <cite>filtered_scada_data</cite> is data strictly
corresponding to fault data.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="winfault.WT_data.get_all_fault_data">
<code class="descname">get_all_fault_data</code><span class="sig-paren">(</span><em>filter_type='fault_case_1'</em>, <em>time_delta_1=600</em>, <em>time_delta_2=600</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/winfault.html#WT_data.get_all_fault_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#winfault.WT_data.get_all_fault_data" title="Permalink to this definition">¶</a></dt>
<dd><p>This function is a shortcut to get a list of faults using the
<cite>filter()</cite> function. The faults that are included are the
most frequently occuring faults in the enercon Ringaskiddy data
up to end March 2015.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>filter_type</strong> (<em>string, optional (default='fault_case_1')</em>) &#8211; The <cite>filter_type</cite> to be passed to the <cite>filter()</cite>
function. Must be one of &#8216;fault_case_1&#8217;, &#8216;fault_case_2&#8217; or
&#8216;fault_case_3&#8217;. See the <cite>filter()</cite> function for
details</li>
<li><strong>time_delta_1</strong> (<em>integer</em>) &#8211; The <cite>time_delta_1</cite> to be passed to the <cite>filter()</cite>
function. If <cite>filter_type</cite> = &#8216;fault_case_2&#8217; or &#8216;fault_case_3&#8217;,
<cite>time_delta_1</cite> must be greater than or equal to <cite>time_delta_2</cite>.
See the <cite>filter()</cite> function for details</li>
<li><strong>time_delta_2</strong> (<em>integer</em>) &#8211; The <cite>time_delta_2</cite> to be passed to the <cite>filter()</cite>
function. If <cite>filter_type</cite> = &#8216;fault_case_2&#8217; or &#8216;fault_case_3&#8217;,
<cite>time_delta_2</cite> must be less than time_delta_1. See the
<cite>filter()</cite> function for details</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>all_faults_scada_data</strong> (<em>ndarray</em>) &#8211; An array of all SCADA data corresponding to fault times</li>
<li><strong>feeding_fault_scada_data</strong> (<em>ndarray</em>) &#8211; An array of SCADA data corresponding to feeding faults</li>
<li><strong>aircooling_fault_scada_data</strong> (<em>ndarray</em>) &#8211; An array of SCADA data corresponding to aircooling faults</li>
<li><strong>excitation_fault_scada_data</strong> (<em>ndarray</em>) &#8211; An array of SCADA data corresponding to excitation faults</li>
<li><strong>generator_heating_fault_scada_data</strong> (<em>ndarray</em>) &#8211; An array of SCADA data corresponding to generator heating
faults</li>
<li><strong>mains_failure_fault_scada_data</strong> (<em>ndarray</em>) &#8211; An array of SCADA data corresponding to mains failure faults</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="winfault.WT_data.get_test_train_data">
<code class="descname">get_test_train_data</code><span class="sig-paren">(</span><em>features</em>, <em>fault_data_sets</em>, <em>fault_free_scada_data_set=None</em>, <em>normalize=True</em>, <em>split=0.2</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/winfault.html#WT_data.get_test_train_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#winfault.WT_data.get_test_train_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate labels for the SCADA data.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>features</strong> (<em>list of strings</em>) &#8211; A list of <cite>scada_data</cite> column names to be included in the
test and training data as features, e.g. &#8216;WEC_ava_power&#8217;,
&#8216;CS101__Ambient_temp&#8217;, etc.</li>
<li><strong>fault_data_sets</strong> (<em>list of ndarrays</em>) &#8211; <p>list of  arrays of subsets of fault data obtained using the
<cite>filter()</cite> function.
Example 1:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fault_data_sets</span> <span class="o">=</span> <span class="p">[</span><span class="n">feeding_fault_scada_data</span><span class="p">,</span>
<span class="go">                       aircooling_fault_scada_data,</span>
<span class="go">                       excitation_fault_scada_data]</span>
</pre></div>
</div>
<p>Example 2:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">fault_data_sets</span> <span class="o">=</span> <span class="p">[</span><span class="n">feeding_fault_scada_data</span><span class="p">]</span>
</pre></div>
</div>
</li>
<li><strong>fault_free_scada_data_set</strong> (<em>ndarray (default=None)</em>) &#8211; Array of fault-free data obtained using the <cite>filter()</cite>
function. If the default <cite>None</cite> is selected, this value will
be set to <cite>self.fault_free_scada_data</cite> (obtained during
initialisation).</li>
<li><strong>normalize</strong> (<em>Boolean, optional (default=True)</em>) &#8211; Whether or not to normalize the training data.</li>
<li><strong>split</strong> (<em>float, optional (default=0.2)</em>) &#8211; The ratio of testing : training data to use.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>X_train</strong> (<em>ndarray</em>) &#8211; Training data samples</li>
<li><strong>y_train</strong> (<em>ndarray</em>) &#8211; Training data labels</li>
<li><strong>X_test</strong> (<em>ndarray</em>) &#8211; Testing data samples</li>
<li><strong>y_test</strong> (<em>ndarray</em>) &#8211; Testing data labels</li>
<li><strong>X_train_bal</strong> (<em>ndarray</em>) &#8211; Balanced training data samples (i.e. no. of fault-free
samples = sum of no. of each fault class samples)</li>
<li><strong>y_train_bal</strong> (<em>ndarray</em>) &#8211; Balanced training data labels (i.e. no. of fault-free
samples = sum of no. of each fault class samples)</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Kevin Leahy.
    </p>
  </div>

  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
  
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>